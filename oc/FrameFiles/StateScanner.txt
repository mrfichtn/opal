public class Scanner: StateScannerBase
{
    private static readonly int[] _charToClass;
    private static readonly int[,] _states;

	static Scanner()
	{
        _charToClass = $(dfa.class.init);
		$(dfa.state.init)
	}

    public Scanner(string source, int line = 1, int column = 0)
		: this(new StringBuffer(source), line, column)
    {
    }

	public Scanner(IBuffer buffer, int line = 1, int column = 0)
		: base(_charToClass, _states, buffer, line, column)
	{
	}

	public static Scanner FromFile(string filePath, int line = 1, int column = 0) =>
		new Scanner(StringBuffer.FromFile(filePath), line, column);

$(dfa.class.data)
$(dfa.state.data)
}