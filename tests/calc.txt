/* Test */
using System.Linq.Expressions;

namespace CalcTest;

Options
	scanner		= "switch"

Characters
	plus_char   = [+]
	white_space = [\t \n]
	digit       = [0-9]
	alpha       = [a-zA-Z]
	id	        = [_]+alpha
	id2         = id + digit 
	quote       = ["] 

Tokens
	Int = '0'|([1-9]digit*) ;
	identifier = id id2* ;
	white_space = white_space+ ;

Productions expr

	expr	= term
			| expr '+' term    		{ new AddExpr($0:Expr, $2); }
			| expr '-' term			{ new SubExpr($0:Expr, $2); }

	term	= primary
			| term '*' primary 		{ new MultiExpr($0:Expr, $2:Expr); }
			| term '/' primary 		{ new DivExpr($0:Expr, $2:Expr); }
	
	primary = Int					{ new Constant($0); }